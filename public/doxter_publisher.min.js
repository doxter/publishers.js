!function(){"use strict";function DoxterDownloader(){this.doxterApiUrl="http://localhost:3000/api/publishers/v1/doctors/next_availabilities.json"}DoxterDownloader.prototype.insertDoctorsContent=function(content){var elements=this.getAllDoctorsDivs();for(var element in elements){var doctor_attributes=elements[element].attributes;if(void 0!=doctor_attributes){var doctor_id=doctor_attributes.getNamedItem("data-doctor-id");if(void 0!=doctor_id){var value=doctor_id.value;void 0!=value&&void 0!=content.doctors_ids[value]&&(elements[element].innerHTML=content.doctors_ids[value])}}}},DoxterDownloader.prototype.getAllDoctorsDivs=function(){var allDoctorsDivs=document.querySelectorAll("[data-doctor-id]");return allDoctorsDivs},DoxterDownloader.prototype.serialize=function(obj,prefix){var str=[];for(var p in obj){var k=prefix?prefix+"["+p+"]":p,v=obj[p];str.push("object"==typeof v?this.serialize(v,k):encodeURIComponent(k)+"="+encodeURIComponent(v))}return str.join("&")},DoxterDownloader.prototype.prepareDataForSend=function(data_divs){for(var doctors_json={},doctor_ids=[],i=0;i<data_divs.length;i++)doctor_ids[i]=data_divs[i].getAttribute("data-doctor-id");return doctors_json.doctors_ids=doctor_ids,encodeURIComponent(doctor_ids)},DoxterDownloader.prototype.onDataArrived=function(result){result=JSON.parse(result),this.insertDoctorsContent(result)},document.addEventListener("DOMContentLoaded",function(){var seed=+new Date,_instance=new DoxterDownloader,script=document.createElement("script"),allDoctorsDivs=_instance.getAllDoctorsDivs(),data=_instance.prepareDataForSend(allDoctorsDivs);window["doxter_instance_"+seed]=_instance.onDataArrived.bind(_instance),script.type="text/javascript",script.src=_instance.doxterApiUrl+"?callback=window.doxter_instance_"+seed+"&doctors_ids="+data,document.body.appendChild(script)})}();